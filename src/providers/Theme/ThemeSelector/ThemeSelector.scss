.theme-toggle {
    --h: 24px;
    --w: 44px;
    --p: 3px;

    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    border: none;
    background: transparent;
    padding: 0;
    cursor: pointer;

    &--loading {
        opacity: 0.6;
        cursor: default;
    }

    &__label {
        font-size: 0.9rem;
        line-height: 1;
        user-select: none;
        color: var(--foreground);
    }

    &__track {
        position: relative;
        width: var(--w);
        height: var(--h);
        border-radius: var(--h);
        background: rgba(0, 0, 0, 0.2);
        transition: background 150ms ease-out;
    }

    &__thumb {
        position: absolute;
        top: var(--p);
        left: var(--p);
        width: calc(var(--h) - var(--p) * 2);
        height: calc(var(--h) - var(--p) * 2);
        border-radius: 50%;
        background: #fff;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.25);
        transition: transform 150ms ease-out;
    }

    &.is-dark {
        .theme-toggle__track {
            background: rgba(255, 255, 255, 0.3);
        }
        .theme-toggle__thumb {
            transform: translateX(calc(var(--w) - var(--h)));
        }

    }

    &:focus-visible .theme-toggle__track {
        outline: 2px solid currentColor;
        outline-offset: 2px;
    }

    &:disabled {
        opacity: 0.6;
        pointer-events: none;
    }
}
